# ADR-005: Polyglot Persistence Strategy

## Status
Accepted

## Context
MobilityCorp has diverse data requirements:
- Transactional data for bookings and payments (ACID compliance)
- Time-series data for telemetry and tracking (high write throughput)
- Document storage for user profiles and complex objects
- Graph relationships for carpooling and route optimization
- Object storage for photos and ML models
- Real-time analytics for dashboards

No single database can efficiently handle all these requirements.

## Decision
Adopt polyglot persistence with purpose-fit databases:
1. **Relational DB**: Core transactional data (bookings, payments)
2. **Time-Series DB**: Telemetry, GPS tracking, sensor data
3. **Document DB**: User profiles, vehicle metadata, configurations
4. **Graph DB**: Route optimization, carpooling relationships
5. **Object Storage**: Photos, models, documents
6. **Cache Layer**: Hot data and session management
7. **Search Engine**: Full-text search and analytics

## Consequences

### Positive
- **Optimized Performance**: Each database optimized for its use case
- **Scalability**: Independent scaling of different data types
- **Cost Efficiency**: Right-sized solutions for each need
- **Developer Productivity**: Natural data models for each domain

### Negative
- **Operational Complexity**: Multiple databases to manage
- **Data Consistency**: Synchronization across stores
- **Query Complexity**: No single query language
- **Training Requirements**: Teams need multiple database skills

## Alternatives Considered

### Single Relational Database
- **Pros**: Simple, ACID compliance, mature tooling
- **Cons**: Performance bottlenecks, doesn't fit all data models
- **Reason for rejection**: Cannot handle time-series volume efficiently

### Single NoSQL Database
- **Pros**: Flexible schema, horizontal scaling
- **Cons**: Lacks ACID for financial transactions, limited query capabilities
- **Reason for rejection**: Financial data requires strong consistency

### Data Lake/Warehouse
- **Pros**: Unified analytics, historical data
- **Cons**: Not suitable for operational workloads, high latency
- **Reason for rejection**: Need real-time transactional processing

## Implementation Notes
- Use change data capture (CDC) for synchronization
- Implement eventual consistency where acceptable
- Use database-per-service pattern
- Apply CQRS for read/write separation
- Monitor data flow and consistency metrics